<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Alquiler Consulta Sanitaria - TV Display</title>
  <style>
    /* Ajustes pensados para TV */
    html,body { height:100%; margin:0; background:#000; color:#fff; font-family: "Segoe UI", Roboto, Arial, sans-serif; }
    .carousel-container { width:100%; height:100vh; overflow:hidden; position:relative; background:#000; }
    .carousel-slide { position:absolute; inset:0; opacity:0; transition:opacity 1s ease-in-out; display:flex; align-items:center; justify-content:center; }
    .carousel-slide.active { opacity:1; }
    .carousel-slide img { width:100%; height:100%; object-fit:cover; display:block; }
    /* controles m√≠nimos */
    .carousel-controls{ position:absolute; bottom:24px; left:50%; transform:translateX(-50%); display:flex; gap:10px; z-index:30;}
    .carousel-dot{ width:14px;height:14px;border-radius:50%;background:rgba(255,255,255,0.4);cursor:pointer; }
    .carousel-dot.active{ background:#fff; transform:scale(1.2); }
    body.kiosk { cursor:none; } /* si quieres ocultar cursor en TV */
  </style>
</head>
<body class="kiosk">
  <div class="carousel-container" id="carousel">
    <!-- Slides generadas por JS -->
  </div>

  <script>
    // Lista: si usas asset pipeline puedes generar la lista desde Rails (ver nota abajo)
    const images = [
      "<%= asset_path 'tv_add/sala1.jpeg' %>",
      "<%= asset_path 'tv_add/sala2.jpeg' %>",
      "<%= asset_path 'tv_add/consulta1.jpeg' %>"
      // ...
    ];

    const carousel = document.getElementById('carousel');
    let current = 0;
    let interval;

    function createSlides() {
      carousel.innerHTML = '';
      images.forEach((src, i) => {
        const slide = document.createElement('div');
        slide.className = 'carousel-slide' + (i===0 ? ' active' : '');
        const img = document.createElement('img');
        img.src = src;
        img.alt = src.split('/').pop().replace(/[-_\.]/g,' ');
        img.loading = i===0 ? 'eager' : 'lazy';
        slide.appendChild(img);
        carousel.appendChild(slide);
      });
      startAutoplay();
    }

    function showSlide(n) {
      const slides = document.querySelectorAll('.carousel-slide');
      slides.forEach(s => s.classList.remove('active'));
      current = (n + slides.length) % slides.length;
      slides[current].classList.add('active');
    }

    function next() { showSlide(current + 1); }
    function startAutoplay(){ stopAutoplay(); interval = setInterval(next, 5000); }
    function stopAutoplay(){ if(interval) clearInterval(interval); }

    createSlides();
    // ocultar cursor tras unos segundos de inactividad (opcional)
    let timeoutCursor;
    document.addEventListener('mousemove', () => {
      document.body.classList.remove('kiosk');
      clearTimeout(timeoutCursor);
      timeoutCursor = setTimeout(()=> document.body.classList.add('kiosk'), 2000);
    });
  </script>
</body>
</html>
